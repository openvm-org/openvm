[workspace]
[package]
name = "openvm-ecdsa-recover-key-program"
version = "0.0.0"
edition = "2021"

[dependencies]
# This cannot be local path because we need openvm version to be consistent with revm's openvm.
openvm = { git = "ssh://git@github.com/axiom-crypto/afs-prototype.git", default-features = false }
openvm-platform = { git = "ssh://git@github.com/axiom-crypto/afs-prototype.git", default-features = false }
openvm-algebra-guest = { git = "ssh://git@github.com/axiom-crypto/afs-prototype.git", default-features = false }
openvm-ecc-guest = { git = "ssh://git@github.com/axiom-crypto/afs-prototype.git", default-features = false, features = [
    "k256",
] }
revm-precompile = { git = "ssh://git@github.com/axiom-crypto/revm.git", branch = "axiom", default-features = false, features = [
    "openvm",
] }
revm-primitives = { git = "ssh://git@github.com/axiom-crypto/revm.git", branch = "axiom", default-features = false }

[features]
default = []
std = ["openvm/std"]

[patch."ssh://git@github.com/axiom-crypto/afs-prototype.git"]
openvm = { path = "../../../crates/toolchain/openvm" }
openvm-platform = { path = "../../../crates/toolchain/platform" }
openvm-algebra-guest = { path = "../../../extensions/algebra/guest" }
openvm-ecc-guest = { path = "../../../extensions/ecc/guest" }
openvm-keccak256-guest = { path = "../../../extensions/keccak256/guest" }

[profile.release]
panic = "abort"
lto = "fat"     # decrease binary size
