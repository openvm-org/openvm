# SHA-2

The OpenVM SHA-2 guest library provides access to a set of accelerated SHA-2 family hash functions. Currently, it supports the following:

- SHA-256
- SHA-512
- SHA-384

Refer to [the FIPS publication](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf) for more details on the SHA-2 family of hash functions.

The SHA-2 guest library provides the `Sha256`, `Sha512`, and `Sha384` structs for use in your guest code.
These structs mimic the identically-named structs found in the `sha2` crate, in that they implement the [`sha2::Digest` trait](https://docs.rs/sha2/latest/sha2/trait.Digest.html).
Importantly, the `sha2::Digest` trait has the following methods, which can be used to incrementally hash a stream of bytes.
```Rust
fn update(&mut self, data: impl AsRef<[u8]>);
fn finalize(self) -> GenericArray<u8, Self::OutputSize>;
```
### Example

The following example can be run as guest code or host code (i.e. run in the zkvm or natively).
To run with guest code, use `cargo openvm run`, and for host code use `cargo run`.
The implementations for `Sha256`, `Sha512`, and `Sha384` fall back to using `sha2` when running as host code.
```rust
[!include ~/snippets/examples/sha2/src/main.rs:imports]
[!include ~/snippets/examples/sha2/src/main.rs:main]
```

To be able to import the `shaXXX` functions and run the example, add the following to your `Cargo.toml` file:

```toml
openvm = { git = "https://github.com/openvm-org/openvm.git", tag = "v1.4.3" }
openvm-sha2 = { git = "https://github.com/openvm-org/openvm.git", tag = "v1.4.3" }
```

### Config parameters

For the guest program to build successfully add the following to your `.toml` file:

```toml
[app_vm_config.sha2]
